{"ast":null,"code":"var _jsxFileName = \"D:\\\\ITU\\\\S5\\\\Cloud\\\\Ench\\xE8re\\\\front-enchere-backoffice\\\\src\\\\mothercomponents\\\\CrudCategory.jsx\",\n  _s = $RefreshSig$();\nimport { TableChild } from \"../childcomponents/TableChild\";\nimport Swal from \"sweetalert2\";\nimport { useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CrudCategory = () => {\n  _s();\n  const headers = [\"ID\", \"Nom\", \"Description\"];\n  const names = [\"id\", \"name\", \"description\"];\n  const rows = [[\"1\", \"Informatique\", \"Tout ce qui concerne l'informatique\"], [\"2\", \"Electronique\", \"Tout ce qui concerne l'électronique\"], [\"3\", \"Mécanique\", \"Tout ce qui concerne la mécanique\"]];\n  const currentCategory = useRef(null);\n  const updateCategory = id => {\n    const array = getCategoryData(id);\n    const inputStrings = getHtmlInputString(array);\n    console.log(inputStrings);\n    Swal.fire({\n      title: \"Modifier la catégorie\",\n      html: inputStrings,\n      showCancelButton: true,\n      confirmButtonText: \"Modifier\",\n      cancelButtonText: \"Annuler\",\n      showLoaderOnConfirm: true,\n      preConfirm: () => {\n        const formControl = document.getElementsByClassName(\"myform\");\n        const obj = {};\n        for (let i = 0; i < formControl.length; i++) {\n          if (formControl[i].value === \"\" || formControl[i].value === null || formControl[i].value === undefined) {\n            Swal.fire({\n              icon: \"error\",\n              title: \"Oops...\",\n              text: \"Veuillez remplir tous les champs !\"\n            });\n          }\n          obj[formControl[i].name] = formControl[i].value;\n        }\n        console.log(obj);\n      }\n    });\n  };\n  const getHtmlInputString = valuesArray => {\n    let htmlString = \"\";\n    valuesArray.forEach((value, index) => {\n      // check if the value is a number\n      if (isNaN(value)) {\n        htmlString += `<label>${headers[index]}</label><input type=\"text\" value=\"${value}\" class=\"form-control myform\"/>`;\n      } else if (!isNaN(value)) {\n        htmlString += `<label>${headers[index]}</label><input type=\"number\" value=\"${value}\" class=\"form-control myform\"/>`;\n      } // check if the value is a date\n      else if (value.includes(\"-\")) {\n        htmlString += `<label>${headers[index]}</label><input type=\"date\" value=\"${value}\" class=\"form-control myform\"/>`;\n      }\n      htmlString += `<br/>`;\n    });\n    return htmlString;\n  };\n  const deleteCategory = id => {\n    Swal.fire({\n      title: 'Êtes-vous sûr?',\n      text: \"Vous ne pourrez pas revenir en arrière!\",\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Oui, supprimez-le!'\n    }).then(result => {\n      if (result.isConfirmed) {\n        Swal.fire('Supprimé!', 'Votre fichier a été supprimé.', 'success');\n      }\n    });\n  };\n  const buttons = [{\n    value: \"Modifier\",\n    className: \"btn btn-warning\",\n    icon: \"fas fa-edit\",\n    event: updateCategory\n  }, {\n    value: \"Supprimer\",\n    className: \"btn btn-danger\",\n    icon: \"fas fa-trash\",\n    event: deleteCategory\n  }];\n  const createBtn = document.getElementById(\"createBtn\");\n  document.getElementById(\"page-description\").innerHTML = \"Gestion des catégories\";\n  createBtn.innerHTML = \"Créer une catégorie\";\n  createBtn.onclick = async () => {\n    const {\n      value: formValues\n    } = await Swal.fire({\n      title: 'Ajouter une catégorie',\n      html: '<label>Nom</label>' + '<input id=\"swal-input1\" class=\"swal2-input\" placeholder=\"Nom\">' + '<label>Description</label>' + '<input id=\"swal-input2\" class=\"swal2-input\" placeholder=\"Description\">',\n      focusConfirm: false,\n      preConfirm: () => {\n        return [document.getElementById('swal-input1').value, document.getElementById('swal-input2').value];\n      }\n    });\n    if (formValues) {\n      if (formValues[0] === \"\" || formValues[1] === \"\") {\n        Swal.fire({\n          icon: 'error',\n          title: 'Oops...',\n          text: 'Veuillez remplir tous les champs!'\n        });\n        return;\n      }\n      const obj = {\n        name: formValues[0],\n        description: formValues[1]\n      };\n      Swal.fire(JSON.stringify(obj));\n    }\n  };\n  const getCategoryData = id => {\n    return rows[id];\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid\",\n    style: {\n      padding: '10px'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-12\",\n        children: /*#__PURE__*/_jsxDEV(TableChild, {\n          titre: \"Liste des catégories\",\n          headers: headers,\n          rows: rows,\n          buttons: buttons\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 154,\n    columnNumber: 9\n  }, this);\n};\n_s(CrudCategory, \"JrXrKZjSAKbqZeWkttktRiwqCVY=\");\n_c = CrudCategory;\nvar _c;\n$RefreshReg$(_c, \"CrudCategory\");","map":{"version":3,"names":["TableChild","Swal","useRef","CrudCategory","headers","names","rows","currentCategory","updateCategory","id","array","getCategoryData","inputStrings","getHtmlInputString","console","log","fire","title","html","showCancelButton","confirmButtonText","cancelButtonText","showLoaderOnConfirm","preConfirm","formControl","document","getElementsByClassName","obj","i","length","value","undefined","icon","text","name","valuesArray","htmlString","forEach","index","isNaN","includes","deleteCategory","confirmButtonColor","cancelButtonColor","then","result","isConfirmed","buttons","className","event","createBtn","getElementById","innerHTML","onclick","formValues","focusConfirm","description","JSON","stringify","padding"],"sources":["D:/ITU/S5/Cloud/Enchère/front-enchere-backoffice/src/mothercomponents/CrudCategory.jsx"],"sourcesContent":["import {TableChild} from \"../childcomponents/TableChild\";\r\nimport Swal from \"sweetalert2\";\r\nimport {useRef} from \"react\";\r\n\r\nexport const CrudCategory = () => {\r\n    const headers = [\r\n        \"ID\",\r\n        \"Nom\",\r\n        \"Description\",\r\n    ]\r\n    const names = [\r\n        \"id\",\r\n        \"name\",\r\n        \"description\",\r\n    ]\r\n    const rows = [\r\n        [\r\n            \"1\",\r\n            \"Informatique\",\r\n            \"Tout ce qui concerne l'informatique\",\r\n        ],\r\n        [\r\n            \"2\",\r\n            \"Electronique\",\r\n            \"Tout ce qui concerne l'électronique\",\r\n        ],\r\n        [\r\n            \"3\",\r\n            \"Mécanique\",\r\n            \"Tout ce qui concerne la mécanique\",\r\n        ]\r\n    ]\r\n    const currentCategory=useRef(null);\r\n    const updateCategory = (id) => {\r\n        const array= getCategoryData(id);\r\n        const inputStrings=getHtmlInputString(array);\r\n        console.log(inputStrings)\r\n        Swal.fire({\r\n            title: \"Modifier la catégorie\",\r\n            html: inputStrings,\r\n            showCancelButton: true,\r\n            confirmButtonText: \"Modifier\",\r\n            cancelButtonText: \"Annuler\",\r\n            showLoaderOnConfirm: true,\r\n            preConfirm: () => {\r\n                const formControl = document.getElementsByClassName(\"myform\");\r\n                const obj = {};\r\n                for (let i = 0; i < formControl.length; i++) {\r\n                    if (formControl[i].value === \"\" || formControl[i].value === null || formControl[i].value === undefined) {\r\n                        Swal.fire({\r\n                            icon: \"error\",\r\n                            title: \"Oops...\",\r\n                            text: \"Veuillez remplir tous les champs !\",\r\n                        })\r\n                    }\r\n                    obj[formControl[i].name] = formControl[i].value;\r\n                }\r\n                console.log(obj)\r\n            }\r\n        }\r\n        )\r\n    }\r\n\r\n    const getHtmlInputString = (valuesArray) => {\r\n        let htmlString = \"\";\r\n        valuesArray.forEach((value,index) => {\r\n            // check if the value is a number\r\n            if (isNaN(value)) {\r\n                htmlString += `<label>${headers[index]}</label><input type=\"text\" value=\"${value}\" class=\"form-control myform\"/>`;\r\n            }else if(!isNaN(value)){\r\n                htmlString += `<label>${headers[index]}</label><input type=\"number\" value=\"${value}\" class=\"form-control myform\"/>`;\r\n            }// check if the value is a date\r\n            else if (value.includes(\"-\")) {\r\n                htmlString += `<label>${headers[index]}</label><input type=\"date\" value=\"${value}\" class=\"form-control myform\"/>`;\r\n            }\r\n            htmlString += `<br/>`;\r\n        });\r\n        return htmlString;\r\n    }\r\n\r\n    const deleteCategory = (id) => {\r\n        Swal.fire({\r\n            title: 'Êtes-vous sûr?',\r\n            text: \"Vous ne pourrez pas revenir en arrière!\",\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            confirmButtonText: 'Oui, supprimez-le!'\r\n        }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                Swal.fire(\r\n                    'Supprimé!',\r\n                    'Votre fichier a été supprimé.',\r\n                    'success'\r\n                )\r\n            }\r\n        }\r\n        )\r\n    }\r\n    const buttons = [\r\n        {\r\n            value:\"Modifier\",\r\n            className:\"btn btn-warning\",\r\n            icon:\"fas fa-edit\",\r\n            event: updateCategory\r\n        },\r\n        {\r\n            value:\"Supprimer\",\r\n            className:\"btn btn-danger\",\r\n            icon:\"fas fa-trash\",\r\n            event: deleteCategory\r\n        }\r\n    ]\r\n    const createBtn= document.getElementById(\"createBtn\");\r\n    document.getElementById(\"page-description\").innerHTML = \"Gestion des catégories\";\r\n    createBtn.innerHTML = \"Créer une catégorie\";\r\n    createBtn.onclick = async () => {\r\n        const {value: formValues} = await Swal.fire({\r\n            title: 'Ajouter une catégorie',\r\n            html:\r\n                '<label>Nom</label>' +\r\n                '<input id=\"swal-input1\" class=\"swal2-input\" placeholder=\"Nom\">' +\r\n                '<label>Description</label>' +\r\n                '<input id=\"swal-input2\" class=\"swal2-input\" placeholder=\"Description\">',\r\n            focusConfirm: false,\r\n            preConfirm: () => {\r\n                return [\r\n                    document.getElementById('swal-input1').value,\r\n                    document.getElementById('swal-input2').value\r\n                ]\r\n            }\r\n        })\r\n        if (formValues) {\r\n            if (formValues[0] === \"\" || formValues[1] === \"\") {\r\n                Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'Oops...',\r\n                    text: 'Veuillez remplir tous les champs!',\r\n                })\r\n                return;\r\n            }\r\n            const obj = {\r\n                name: formValues[0],\r\n                description: formValues[1]\r\n            }\r\n            Swal.fire(JSON.stringify(obj))\r\n        }\r\n    }\r\n    const getCategoryData = (id) => {\r\n        return rows[id];\r\n    }\r\n    return (\r\n        <div className=\"container-fluid\" style={{padding: '10px'}}>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-12\">\r\n                    <TableChild titre={\"Liste des catégories\"} headers={headers} rows={rows} buttons={buttons}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}