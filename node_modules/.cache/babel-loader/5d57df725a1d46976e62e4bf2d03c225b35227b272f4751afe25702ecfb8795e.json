{"ast":null,"code":"var _jsxFileName = \"D:\\\\ITU\\\\S5\\\\Cloud\\\\Ench\\xE8re\\\\front-enchere-backoffice\\\\src\\\\mothercomponents\\\\Settings.jsx\",\n  _s = $RefreshSig$();\nimport { TableChild } from \"../childcomponents/TableChild\";\nimport { FormHeaderComponent } from \"../childcomponents/FormHeaderComponent\";\nimport { FormChild } from \"../childcomponents/FormChild\";\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nimport { BASE_URL, CONFIG } from \"../service/Api-Call\";\nimport { useEffect, useState } from \"react\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Settings = () => {\n  _s();\n  const [settings, setSettings] = useState(null);\n  const [inputs, setInputs] = useState([[1], [2]]);\n  useEffect(() => {\n    axios.get(`${BASE_URL}/settings`, CONFIG).then(response => {\n      console.log(response.data.data);\n      setInputs([[{\n        label: \"Durée\",\n        type: \"number\",\n        placeholder: \"Entrez la durée de l'enchère\",\n        name: \"duree\",\n        className: \"form-control myform\",\n        value: response.data.data[1].value\n      }], [{\n        label: \"Comission\",\n        type: \"number\",\n        placeholder: \"Entrez la comission de l'enchère\",\n        name: \"comission\",\n        className: \"form-control myform\",\n        value: response.data.data[0].value\n      }]]);\n    }).catch(error => {\n      Swal.fire({\n        icon: 'error',\n        title: 'Désolé...',\n        text: error.response.data.code + ': ' + error.response.data.message\n      });\n    });\n  }, []);\n  const modifierDuree = duree => {\n    console.log(duree);\n    const obj = {\n      value: duree\n    };\n    axios.put(`${BASE_URL}/setting/2`, obj, CONFIG).then(response => {\n      Swal.fire({\n        icon: 'success',\n        title: 'Bien...',\n        text: 'La durée a été modifiée'\n      });\n      //window.location.href = \"settings\"\n    }).catch(error => {\n      Swal.fire({\n        icon: 'error',\n        title: 'Désolé...',\n        text: error.response.data.code + ': ' + error.response.data.message\n      });\n    });\n  };\n  const modifierComission = amount => {\n    const obj = {\n      value: amount\n    };\n    axios.put(`${BASE_URL}/setting/1`, obj, CONFIG).then(response => {\n      Swal.fire({\n        icon: 'success',\n        title: 'Bien...',\n        text: 'La commission a été modifiée'\n      });\n      window.location.href = \"settings\";\n    }).catch(error => {\n      Swal.fire({\n        icon: 'error',\n        title: 'Désolé...',\n        text: error.response.data.code + ': ' + error.response.data.message\n      });\n    });\n    console.log(amount);\n  };\n  const parameters = [{\n    title: \"Durée\",\n    subtitle: \"Modifier la durée de l'enchère\",\n    button: {\n      value: \"Modifier\"\n    },\n    event: modifierDuree,\n    imageUrl: \"assets/img/covers/HourGlass.jpg\"\n  }, {\n    title: \"Comission\",\n    subtitle: \"Modifier la comission de l'enchère\",\n    button: {\n      value: \"Modifier\"\n    },\n    event: modifierComission,\n    imageUrl: \"assets/img/covers/Money-BG.jpeg\"\n  }];\n  const dureeEnchere = 10;\n  const comissionEnchere = 10;\n  document.getElementById(\"page-description\").innerHTML = \"Paramètres de l'application\";\n  document.getElementById(\"createBtn\").style.display = \"none\";\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid\",\n      style: {\n        padding: '10px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-12\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header mt-md-5\",\n            children: /*#__PURE__*/_jsxDEV(FormHeaderComponent, {\n              title: \"Enchère\",\n              description: \"Page de modication des paramètres tel que la durée de l'enchère et la valeur de la comission à prélever après chaque transaction\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: parameters.map((parameter, index) => {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(FormChild, {\n                    bottomLink: false,\n                    parameters: parameter,\n                    inputs: inputs[index]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 129,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 131,\n                    columnNumber: 53\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 49\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n_s(Settings, \"B+ku5gfjNiyqmAvI7aZfnE0qQiA=\");\n_c = Settings;\nvar _c;\n$RefreshReg$(_c, \"Settings\");","map":{"version":3,"names":["TableChild","FormHeaderComponent","FormChild","axios","Swal","BASE_URL","CONFIG","useEffect","useState","Settings","settings","setSettings","inputs","setInputs","get","then","response","console","log","data","label","type","placeholder","name","className","value","catch","error","fire","icon","title","text","code","message","modifierDuree","duree","obj","put","modifierComission","amount","window","location","href","parameters","subtitle","button","event","imageUrl","dureeEnchere","comissionEnchere","document","getElementById","innerHTML","style","display","padding","map","parameter","index"],"sources":["D:/ITU/S5/Cloud/Enchère/front-enchere-backoffice/src/mothercomponents/Settings.jsx"],"sourcesContent":["import {TableChild} from \"../childcomponents/TableChild\";\r\nimport {FormHeaderComponent} from \"../childcomponents/FormHeaderComponent\";\r\nimport {FormChild} from \"../childcomponents/FormChild\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\nimport {BASE_URL, CONFIG} from \"../service/Api-Call\";\r\nimport {useEffect, useState} from \"react\";\r\n\r\nexport const Settings = () => {\r\n    const [settings, setSettings] = useState(null);\r\n    const [inputs, setInputs] = useState([[1],[2]]);\r\n\r\n    useEffect(() => {\r\n        axios.get(`${BASE_URL}/settings`, CONFIG).then((response) => {\r\n            console.log(response.data.data)\r\n                setInputs([\r\n                    [\r\n                        {\r\n                            label: \"Durée\",\r\n                            type: \"number\",\r\n                            placeholder: \"Entrez la durée de l'enchère\",\r\n                            name: \"duree\",\r\n                            className: \"form-control myform\",\r\n                            value: response.data.data[1].value\r\n                        }\r\n                    ], [\r\n                        {\r\n                            label: \"Comission\",\r\n                            type: \"number\",\r\n                            placeholder: \"Entrez la comission de l'enchère\",\r\n                            name: \"comission\",\r\n                            className: \"form-control myform\",\r\n                            value: response.data.data[0].value\r\n                        }\r\n                    ]\r\n                ])\r\n            }\r\n        ).catch((error) => {\r\n                Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'Désolé...',\r\n                    text: error.response.data.code + ': ' + error.response.data.message,\r\n                })\r\n            }\r\n        )\r\n    }, [])\r\n    const modifierDuree = (duree) => {\r\n        console.log(duree)\r\n        const obj = {\r\n            value: duree\r\n        }\r\n        axios.put(`${BASE_URL}/setting/2`, obj, CONFIG).then((response) => {\r\n                Swal.fire({\r\n                    icon: 'success',\r\n                    title: 'Bien...',\r\n                    text: 'La durée a été modifiée',\r\n                })\r\n                //window.location.href = \"settings\"\r\n            }\r\n        ).catch((error) => {\r\n            Swal.fire({\r\n                icon: 'error',\r\n                title: 'Désolé...',\r\n                text: error.response.data.code + ': ' + error.response.data.message,\r\n            })\r\n        })\r\n    }\r\n    const modifierComission = (amount) => {\r\n        const obj = {\r\n            value: amount\r\n        }\r\n        axios.put(`${BASE_URL}/setting/1`, obj, CONFIG).then((response) => {\r\n                Swal.fire({\r\n                    icon: 'success',\r\n                    title: 'Bien...',\r\n                    text: 'La commission a été modifiée',\r\n                })\r\n                window.location.href = \"settings\"\r\n            }\r\n        ).catch((error) => {\r\n            Swal.fire({\r\n                icon: 'error',\r\n                title: 'Désolé...',\r\n                text: error.response.data.code + ': ' + error.response.data.message,\r\n            })\r\n        })\r\n        console.log(amount)\r\n    }\r\n    const parameters = [\r\n        {\r\n            title: \"Durée\",\r\n            subtitle: \"Modifier la durée de l'enchère\",\r\n            button: {\r\n                value: \"Modifier\"\r\n            },\r\n            event: modifierDuree,\r\n            imageUrl: \"assets/img/covers/HourGlass.jpg\"\r\n        },\r\n        {\r\n            title: \"Comission\",\r\n            subtitle: \"Modifier la comission de l'enchère\",\r\n            button: {\r\n                value: \"Modifier\"\r\n            },\r\n            event: modifierComission,\r\n            imageUrl: \"assets/img/covers/Money-BG.jpeg\"\r\n        }\r\n    ]\r\n    const dureeEnchere = 10;\r\n    const comissionEnchere = 10;\r\n\r\n    document.getElementById(\"page-description\").innerHTML = \"Paramètres de l'application\";\r\n    document.getElementById(\"createBtn\").style.display = \"none\";\r\n    return (\r\n        <>\r\n            <div className=\"container-fluid\" style={{padding: '10px'}}>\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-12\">\r\n                        <div className=\"header mt-md-5\">\r\n                            <FormHeaderComponent title={\"Enchère\"}\r\n                                                 description={\"Page de modication des paramètres tel que la durée de l'enchère et la valeur de la comission à prélever après chaque transaction\"}/>\r\n                        </div>\r\n                        <div className=\"card\">\r\n                            <div className=\"card-body\">\r\n                                {\r\n                                    parameters.map((parameter, index) => {\r\n                                            return (\r\n                                                <div key={index}>\r\n                                                    <FormChild bottomLink={false} parameters={parameter}\r\n                                                               inputs={inputs[index]}/>\r\n                                                    <hr/>\r\n                                                </div>\r\n                                            )\r\n                                        }\r\n                                    )\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}