{"ast":null,"code":"var _jsxFileName = \"D:\\\\ITU\\\\S5\\\\Cloud\\\\Ench\\xE8re\\\\front-enchere-backoffice\\\\src\\\\childcomponents\\\\MyPieChart.jsx\",\n  _s = $RefreshSig$();\nimport React, { PureComponent, useEffect, useState } from 'react';\nimport { PieChart, Pie, Tooltip } from \"recharts\";\nimport axios from \"axios\";\nimport { BASE_URL, CONFIG } from \"../service/Api-Call\";\nimport Swal from \"sweetalert2\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const MyPieChart = () => {\n  _s();\n  function getMonthName(monthNumber) {\n    const date = new Date();\n    date.setMonth(monthNumber - 1);\n    return date.toLocaleString('en-US', {\n      month: 'long'\n    });\n  }\n  const [data, setData] = useState(null);\n  const setToNameValueObjArray = data => {\n    let arr = [];\n    for (let i = 0; i < data.length; i++) {\n      let obj = {};\n      obj.name = getMonthName(data[i][2]);\n      obj.value = data[i][0];\n      arr.push(obj);\n    }\n    return arr;\n  };\n  const getCharts = annee => {\n    axios.get(`${BASE_URL}/recette/annee/${annee}`, CONFIG).then(response => {\n      const arr = setToNameValueObjArray(response.data.data);\n      if (arr) console.log(arr);\n      setData(arr);\n    }).catch(error => {\n      Swal.fire({\n        icon: 'error',\n        title: 'Désolé...',\n        text: error.response.data.code + ': ' + error.response.data.message\n      });\n    });\n  };\n  useEffect(() => {\n    getCharts(2023);\n  }, []);\n  function update() {\n    console.log(\"update\");\n    getCharts(document.getElementById(\"annee\").value);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row\",\n    style: {\n      padding: \"30px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"exampleFormControlSelect1\",\n        children: \"Entrez une ann\\xE9e\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: update,\n        className: \"form-control\",\n        id: \"annee\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: 2023,\n          children: \"2023\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: 2022,\n          children: \"2022\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: 2021,\n          children: \"2021\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: 2020,\n          children: \"2020\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-12 col-lg-12\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card card-fill\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-header\",\n          children: /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"card-header-title\",\n            children: \"Recettes par mois ( Ar )\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(PieChart, {\n          width: 1000,\n          height: 400,\n          children: [/*#__PURE__*/_jsxDEV(Pie, {\n            dataKey: \"value\",\n            isAnimationActive: false,\n            data: data,\n            cx: 700,\n            cy: 200,\n            outerRadius: 80,\n            fill: \"#8884d8\",\n            label: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Tooltip, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n};\n_s(MyPieChart, \"fQZRxy/+nAZ7NLS1X4dVhrlp8Go=\");\n_c = MyPieChart;\nvar _c;\n$RefreshReg$(_c, \"MyPieChart\");","map":{"version":3,"names":["React","PureComponent","useEffect","useState","PieChart","Pie","Tooltip","axios","BASE_URL","CONFIG","Swal","MyPieChart","getMonthName","monthNumber","date","Date","setMonth","toLocaleString","month","data","setData","setToNameValueObjArray","arr","i","length","obj","name","value","push","getCharts","annee","get","then","response","console","log","catch","error","fire","icon","title","text","code","message","update","document","getElementById","padding"],"sources":["D:/ITU/S5/Cloud/Enchère/front-enchere-backoffice/src/childcomponents/MyPieChart.jsx"],"sourcesContent":["import React, {PureComponent, useEffect, useState} from 'react';\r\nimport {PieChart, Pie, Tooltip} from \"recharts\";\r\nimport axios from \"axios\";\r\nimport {BASE_URL, CONFIG} from \"../service/Api-Call\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nexport const MyPieChart = () => {\r\n    function getMonthName(monthNumber) {\r\n        const date = new Date();\r\n        date.setMonth(monthNumber - 1);\r\n\r\n        return date.toLocaleString('en-US', {month: 'long'});\r\n    }\r\n\r\n    const [data, setData] = useState(null);\r\n    const setToNameValueObjArray = (data) => {\r\n        let arr = [];\r\n        for (let i = 0; i < data.length; i++) {\r\n            let obj = {}\r\n            obj.name = getMonthName(data[i][2])\r\n            obj.value = data[i][0]\r\n            arr.push(obj)\r\n        }\r\n        return arr;\r\n    }\r\n\r\n    const getCharts = (annee) => {\r\n        axios.get(`${BASE_URL}/recette/annee/${annee}`, CONFIG).then((response) => {\r\n                const arr = setToNameValueObjArray(response.data.data)\r\n            if(arr)\r\n            console.log(arr)\r\n                setData(\r\n                    arr)\r\n            }\r\n        ).catch((error) => {\r\n                Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'Désolé...',\r\n                    text: error.response.data.code + ': ' + error.response.data.message,\r\n                })\r\n            }\r\n        )\r\n    }\r\n\r\n    useEffect(() => {\r\n        getCharts(2023)\r\n    }, []);\r\n\r\n    function update() {\r\n        console.log(\"update\")\r\n        getCharts(document.getElementById(\"annee\").value)\r\n    }\r\n\r\n    return (\r\n        <div className=\"row\" style={{padding: \"30px\"}}>\r\n            <div className={\"form-group\"}>\r\n                <label htmlFor=\"exampleFormControlSelect1\">Entrez une année</label>\r\n                <select onChange={update} className=\"form-control\" id=\"annee\">\r\n                    <option value={2023}>2023</option>\r\n                    <option value={2022}>2022</option>\r\n                    <option value={2021}>2021</option>\r\n                    <option value={2020}>2020</option>\r\n                </select>\r\n            </div>\r\n            <div className=\"col-12 col-lg-12\">\r\n\r\n                <div className=\"card card-fill\">\r\n                    <div className=\"card-header\">\r\n\r\n                        <h4 className=\"card-header-title\">\r\n                            Recettes par mois ( Ar )\r\n                        </h4>\r\n\r\n                    </div>\r\n                    <PieChart width={1000} height={400}>\r\n                        <Pie\r\n                            dataKey=\"value\"\r\n                            isAnimationActive={false}\r\n                            data={data}\r\n                            cx={700}\r\n                            cy={200}\r\n                            outerRadius={80}\r\n                            fill=\"#8884d8\"\r\n                            label\r\n                        />\r\n                        <Tooltip/>\r\n                    </PieChart>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}